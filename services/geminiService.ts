import { Answer } from '../types';

// COMPLIANCE NOTE (RK Law on Personal Data):
// В соответствии с законодательством РК о защите персональных данных,
// трансграничная передача данных (в Google Gemini API) осуществляется 
// только в обезличенном виде.
// 
// Мы отправляем ИИ только массив ответов (ID вопроса + Значение).
// Никакие идентифицирующие данные (ФИО, IP, Email) не передаются в модель.

const SIMULATED_DELAY = 2500;

export const generateAnalysis = async (answers: Answer[]): Promise<string> => {
  // В реальном проекте здесь происходит маппинг ответов в промпт.
  // Данные полностью анонимны.
  
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve(`На основе ваших ответов я вижу ярко выраженный профиль **Исследователя (Investigative)** с сильным влиянием **Предприимчивости (Enterprising)**.

**Что это значит:**
Вы — человек, который не просто любит решать сложные задачи, но и умеет "продать" эти решения или превратить их в бизнес-процесс. Вас мотивирует поиск истины, но вам скучно, если это не приносит конкретного, ощутимого результата.

**Рекомендации:**
1. **Продукт-менеджмент:** Идеальный баланс аналитики и управления.
2. **Системная аналитика:** Работа со сложными данными.
3. **Стартапы:** Роль технического директора (CTO) или основателя.

Обратите внимание, что ваша тяга к структуре (Conventional) ниже среднего, поэтому избегайте рутинной бюрократической работы.`);
    }, SIMULATED_DELAY);
  });
};

export const generateAIResponse = async (history: any[], userMessage: string): Promise<string> => {
    return "Deprecated";
};